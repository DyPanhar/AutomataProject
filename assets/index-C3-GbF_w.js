import{r as h,j as t,G as M,L as j,B as z,R as q,a as y,c as B,b as G}from"./vendor-DcjznsT9.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}})();class A{constructor(){this.states=new Set,this.alphabet=new Set,this.transitions={},this.startState=null,this.finalState=new Set}addState(n){this.states.add(n)}addAlphabet(n){this.alphabet.add(n)}setStartState(n){if(this.states.has(n))this.startState=n;else throw new Error(`State ${n} does not exist.`)}setFinalState(n){if(this.states.has(n))this.finalState.add(n);else throw new Error(`State ${n} does not exist.`)}addTransition(n,a,c){if(this.states.has(n)&&this.states.has(c)&&this.alphabet.has(a))this.transitions[n]||(this.transitions[n]={}),this.transitions[n][a]=c;else throw new Error(`Invalid transition: ${n} --(${a})--> ${c}`)}processInput(n){let a=this.startState;for(const c of n)if(this.transitions[a]&&this.transitions[a][c])a=this.transitions[a][c];else return!1;return this.finalState.has(a)}}const _=()=>{const[p,n]=h.useState(0),[a,c]=h.useState([]),[i,o]=h.useState([]),[u,g]=h.useState(""),[x,v]=h.useState(""),[w,F]=h.useState(0),[m,b]=h.useState([]),[N,$]=h.useState(""),[f,E]=h.useState(null),[C,I]=h.useState(new A);h.useEffect(()=>{a.length>0&&(g(a[0]),v(a[a.length-1]))},[a]);const T=s=>{const e=parseInt(s);n(e);const r=Array.from({length:e},(l,d)=>`q${d}`);c(r)},D=s=>{o(s)},L=s=>{const e=parseInt(s.target.value);F(e),b(Array(e).fill({currentState:"",inputSymbol:"",nextState:""}))},S=(s,e,r)=>{const l=[...m];l[s]={...l[s],[e]:r},b(l)},R=s=>{s.preventDefault();const e=C.processInput(N);E(e)},P=s=>{s.preventDefault();const e=new A;a.forEach(d=>e.addState(d)),i.sort().forEach(d=>e.addAlphabet(d.trim())),e.setStartState(u),x.split(",").sort().forEach(d=>e.setFinalState(d.trim())),m.forEach(d=>{e.addTransition(d.currentState,d.inputSymbol,d.nextState)}),I(e),console.log(e.transitions.q0[0])},O=()=>`
      digraph {
        rankdir=LR;
        node [shape = point]; entry;
        node [shape = circle];

        entry -> "${u}";

        ${a.map(e=>`"${e}" [shape=${x.includes(e)?"doublecircle":"circle"}]`).join(`
`)}
        ${m.map(({currentState:e,inputSymbol:r,nextState:l})=>`"${e}" -> "${l}" [label="${r}"]`).join(`
`)}
      }
    `;return t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"text-center mb-5",children:"DFA Design"}),t.jsxs("div",{className:"container d-flex gap-5",children:[t.jsxs("form",{onSubmit:P,className:"form-container",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{children:"State : "}),t.jsx("input",{type:"number",min:0,value:p,onChange:s=>T(s.target.value)})]}),t.jsxs("div",{className:"mb-3",children:["Alphabet (comma separated):",t.jsx("input",{type:"text",value:i,onChange:s=>D(s.target.value.split(","))})]}),t.jsxs("div",{className:"mb-3",children:["Choose Start State :",t.jsxs("select",{name:"startState",value:u,onChange:s=>g(s.target.value),children:[t.jsx("option",{value:"",children:"Select State"}),a.map((s,e)=>t.jsx("option",{value:s,children:s},e))]})]}),t.jsxs("div",{className:"mb-3",children:["Choose Final State :",t.jsx("input",{type:"text",value:x,onChange:s=>v(s.target.value)})]}),t.jsxs("div",{className:"mb-3",children:["Transition :",t.jsx("input",{type:"number",value:w,onChange:L,min:0})]}),m.map((s,e)=>t.jsxs("div",{className:"container",children:[t.jsxs("label",{children:["Transition ",e+1," :"]}),t.jsxs("select",{value:m[e].currentState,onChange:r=>S(e,"currentState",r.target.value),children:[t.jsx("option",{children:"Select State"}),a.map((r,l)=>t.jsx("option",{value:r,children:r},l))]}),t.jsxs("select",{value:m[e].inputSymbol,onChange:r=>S(e,"inputSymbol",r.target.value),className:"mx-2",children:[t.jsx("option",{children:"Select Alphabet"}),i.map((r,l)=>t.jsx("option",{value:r,children:r},l))]}),t.jsxs("select",{value:m[e].nextState,onChange:r=>S(e,"nextState",r.target.value),children:[t.jsx("option",{children:"Select Next State"}),a.map((r,l)=>t.jsx("option",{value:r,children:r},l))]})]},e)),t.jsx("button",{type:"submit",className:"border border-success rounded-2 mt-4",children:"Submit"})]}),t.jsxs("div",{className:" d-flex flex-column align-items-center justify-content-center",children:[t.jsxs("div",{className:"container",children:[t.jsx("h2",{className:"text-center",children:"Process Input String"}),t.jsxs("form",{onSubmit:R,className:"d-flex my-2",children:[t.jsx("input",{type:"text",placeholder:"Enter input string",value:N,onChange:s=>$(s.target.value),className:"float-start"}),t.jsx("button",{type:"submit",className:"rounded-2 float-end mx-1",children:"Process"})]}),f!=null&&f?t.jsx("p",{className:"text-success",children:"The input string is accepted"}):f!=null&&t.jsx("p",{className:"text-danger",children:"The input string is rejected."})]}),t.jsx("div",{style:{width:"250px"},children:t.jsx(M,{dot:O()})})]})]})]})},K=()=>t.jsxs("div",{className:"container",children:[t.jsx("h1",{className:"mb-5",children:"Automata Menu"}),t.jsxs("div",{className:"container text-center d-flex flex-column gap-5",children:[t.jsx(j,{to:"/design-dfa",className:"ch-container",children:"Design DFA"}),t.jsx(j,{to:"/convert-nfa-to-dfa",className:"ch-container",children:"Convert NFA to DFA"}),t.jsx(j,{to:"/minimize-dfa",className:"ch-container",children:"Minimize DFA"})]})]}),H=()=>t.jsx(z,{children:t.jsxs(q,{children:[t.jsx(y,{path:"/",element:t.jsx(K,{})}),t.jsx(y,{path:"/design-dfa",element:t.jsx(_,{})})]})});B.createRoot(document.getElementById("root")).render(t.jsx(G.StrictMode,{children:t.jsx(H,{})}));
